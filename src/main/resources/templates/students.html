<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Students List | SRMS</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- Custom Theme -->
    <link rel="stylesheet" href="/css/klu-theme.css">
</head>
<body>

	<div th:replace="~{fragments/header :: header}"></div>

	<main class="container content-wrapper mt-4">		

	 <!-- PAGE NAVIGATION (WITHOUT HEADER CHANGE) -->
        <div class="d-flex justify-content-between align-items-center mb-3">

            <!-- HOME = STUDENT LIST -->
            <div class="fw-semibold text-muted">
                <i class="bi bi-house-fill"></i> Home
            </div>

            <!-- REPORTS NAVIGATION -->
            <div>
                <a th:href="@{/reports}" class="btn btn-outline-secondary btn-sm">
                    <i class="bi bi-file-earmark-bar-graph-fill"></i> Reports
                </a>
            </div>
        </div>

		 <div class="mb-3">
            <a href="/students/add" class="btn btn-primary me-2">
                <i class="bi bi-person-plus-fill"></i> Add Student
            </a>            
        </div>

		<table class="table table-bordered">
			<thead>
				<tr>
					<th>ID</th>
					<th>Name</th>
					<th>Program</th>
					<th>Course</th>
					<th>Year</th>
					<th>DOB</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="s : ${students}">
					<td th:text="${s.id}"></td>
					<td th:text="${s.name}"></td>
					<td th:text="${s.programType}"></td>
					<td th:text="${s.course}"></td>
					<td th:text="${s.yearOfAdmission}"></td>
					<td th:text="${s.dateOfBirth}"></td>
					<td>
						<a th:href="@{/students/{id}/performance/add(id=${s.id})}"
							class="btn btn-sm btn-outline-primary"><i class="bi bi-plus-circle"></i>&nbsp;Add CGPA</a>
						<a th:href="@{/students/{id}/performance(id=${s.id})}"
							class="btn btn-sm btn-outline-secondary"><i class="bi bi-graph-up"></i>&nbsp;View Performance</a>						
                        <a class="btn btn-danger btn-sm"
                           th:href="@{/students/delete/{id}(id=${s.id})}" onclick="return confirm('Delete this Student?');">
                            <i class="bi bi-trash-fill"></i> Delete
                        </a>
                    </td>
					</td>
				</tr>
			</tbody>
		</table>

	</main>
	<div th:replace="fragments/footer :: footer"></div>
</body>

</html>